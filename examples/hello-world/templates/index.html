<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>{{ name }}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
</head>

<body>


  <div class="container">
    <h1 class="mb-4">{{ name }}</h1>
    <div class="row">
      <div class="col-6">
        <div id="content"></div>
      </div>
      <div class="col-6">
        <form id="form" class="row">
          {% for param in parameters %}
          <div class="mb-3 col-6">
            <label for="{{ param.name }}" class="form-label">{{ param.name }}</label>
            {% if param.type == 'text' %}
            <input type="text" class="form-control" id="{{ param.name }}" name="{{ param.name }}"
              value="{{ param.default }}" />
            {% elif param.type == 'number' %}
            <input type="number" class="form-control" id="{{ param.name }}" name="{{ param.name }}"
              value="{{ param.default }}" />
            {% elif param.type == 'single-choice' %}
            <select class="form-select" id="{{ param.name }}" name="{{ param.name }}">
              {% for choice in param.choices %}
              <option value="{{ choice }}" {% if choice==param.default %} selected {% endif %}>{{ choice }}</option>
              {% endfor %}
            </select>
            {% elif param.type == 'multi-choice' %}
            {% set defaults = param.default if param.default is iterable else [param.default] %}
            <select name="{{ param.name }}" id="{{ param.name }}" class="form-select" multiple>

              {% for choice in param.choices %}
              <option {% if choice in defaults %} selected {% endif %} value="{{ choice }}">{{ choice }}</option>
              {% endfor %}
            </select>

            {% endif %}
          </div>
          {% endfor %}
          <button type="submit" class="btn btn-primary">Run</button>
        </form>
        <hr>
        <nav class="navbar navbar-light bg-light">
          <div class="container-fluid">
            <span class="navbar-brand mb-0 h1">Log</span>
          </div>
        </nav>
        <code id="log" class="text-break"></code>
      </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="
            https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js
            "></script>
  <script src="index.js"></script>
</body>

</html>